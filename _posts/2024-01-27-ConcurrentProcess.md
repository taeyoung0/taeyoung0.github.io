---
title : "[병행 프로세스]병행 프로세스와 상호 배제 "

excerpt : "병행 프로세스, 임계구역, 동기화기법 등등"

categories:
- 운영체제

tags: 
- [Blog, Github, Git, Process]

last_modified_at : "2024-01-27"
  

toc: true
toc_sticky: true
pin: true
---

## 병행 프로세스

- 두 개 이상의 프로세스들이 동시에 존재하며 실행 상태에 있는 것을 의미.

- 한정된 컴퓨터 하드웨어나 자원을 공유, 동시에 작업을 수행하기 위해 사용되는 개념.

<br/>

## 임계 구역

**임계 구역(Critical Section)** 은 다중 프로그래밍 운영체제에서 여러 개의 프로세스가 공유하는 데이터 및 자원에 대하여 어느 한 시점에서는 하나의 프로세스만 자원 또는 데이터를 사용하도록 지정된 공유 자원(영역)을 의미한다.

- 공유 자원 : CPU, 메모리, 디스크, 입-출력장치, 버퍼 등

- 임계 구역에는 하나의 프로세스만 접근, 해당 프로세스가 자원을 반납 후에만 다른 프로세스가 자원이나 데이터 사용 가능

- 임계 구역의 문제를 해결하기 위해 상호 배제(Mutual Exclusion), 진행(Process), 한계 대기(Bounded Waiting) 라는 3가지 조건을 충족해야 한다.
  
  - 상호 배제 : 한 번에 한개의 프로세스만이 공유 자원을 사용할 수 있어야 함.
  
  - 진행 : 임계 구역에 아무것도 접근하지 않았다면 접근이 가능함.
  
  - 한계 대기 : 한번 임계 구역에 들어간 하나의 프로세스는 다음번에 임계 구역에 들어갈 때에는 제한을 두어야 한다. (다른 프로세스가 무한정 대기하지 않기 위해)   


## 동기화 기법

**동기화 기법(Sysnchronizetion)** 은 두개 이상의 프로세스를 한 시점에서는 동시에 처리할 수 없으므로 각 프로세스에 대한 처리 순서를 결정하는 것으로, 상호 배제의 한 형태이다.

- 세마포어(Semaphore)
   - 신호기, 깃발을 뜻하며, 각 프로세스에 제어 신호를 전달하여 순서대로 작업을 수행.
  
   - 세마포어는 다익스트라(E.J.Dijkstra)가 제안하였으며, P와 V라는 두개의 연산에 의해서 동기화를 유지시키고 상호 배제의 원리를 보장.
   
   - S는 P와 V 연산으로만 접근 가능한 세마포어 변수로, 공유 자원의 개수를 나타내며 0과 1 혹은 0과 양의 값을 가질 수 있다.
   
   - 세마포어에 대한 연산은 처리중에 인터럽트되어서는 안 된다. 

- 모니터(Monitor)
  - 모니터는 동기화를 구현하기 위한 특수 프로그램 기법으로 특정 공유 자원을 프로세스에게 할당하는데 필요한 데이터와 이 데이터를 처리하는 프로시저로 구성된다.
  
  - 자료 추상화와 정보 은폐 개념을 기초로 하며 공유 자원을 할당하기 위한 병행성 구조로 이루어져 있다.
  
      - 정보 은폐 :  모니터 내부의 프로시저와 데이터의 정보를 은폐시켜서 다른 외부 프로시저가 접근하거나 변경하기 못하도록 하는 기법

  - 모니터의 경계에서 상호 배제가 시행된다.
  
  - 모니터에는 한순간에 하나의 프로세스만 진입하여 자원을 사용할 수 있다.


## 교착상태의 개요

- 교착 상태(Dead Lock)는 상호 배제에 의해 나타나는 문제점, 둘 이상의 프로세스들이 자원을 점유한 상태에서 서로 다른 프로세스가 점유하고 있는 자원을 무한정 기다리는 현상.

  - 무한 연기는 그래도 가능성이 있는 상태에서 기다리는 것을 의미.
 

## 교착상태의 발생의 필요 충분 조건

- **상호 배제(Mutual Exclusion)** : 한 번에 한개의 프로세스만이 공유 자원을 사용할 수 있어야 한다.

- **점유와 대기(Hold and Wait)** : 최소한 하나의 자원을 점유하고 있으면서 다른 프로세스에 할당되어 사용되고 있는 자원을 추가로 점유하기 위해 대기하는 프로세스가 있어야 한다.

- **비선점(Non-preemption)** : 다른 프로세스에 할당된 자원은 사용이 끝날 때까지 강제로 빼앗을 수 없어야 한다.

- **환형 대기(Circular Wait)** : 공유 자원과 공유 자원을 사용하기 위해 대기하는 프로세스들이 원형으로 구성되어 있어 자신에게 할당된 자원을 점유하면서 앞이나 뒤에 있는 프로세스의 자원을 요구해야 한다.