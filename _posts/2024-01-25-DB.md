---
title : "[스프링 DB] 접근 기술 "

excerpt : "H2 데이터베이스 설치 해보기"

categories:
- Spring

tags: 
- [Blog, Spring, Github, Git, Web, backend, DB, H2]

last_modified_at : "2024-01-25"
  

toc: true
toc_sticky: true
pin: true
---

## H2 데이터베이스 설치

- H2 DB는 개발이나 테스트 용도로 가볍고 편리한 DB로 웹 화면을 제공한다.

 

- 다운로드 및 설치 : [H2 홈페이지](https://www.h2database.com/html/main.html)

- 권한 주기: chmod 755 h2.sh (윈도우 사용자는 x)

- 실행: ./h2.sh (윈도우 사용자는 h2.bat)

- 데이터베이스 파일 생성 방법

  - jdbc:h2:~/test (최초 한번)

  - home에 ~/test.mv.db 파일 생성 확인

- 이후부터는 jdbc:h2:tcp://localhost/~/test 이렇게 접속



**테이블 생성**

![image](https://github.com/taeyoung0/taeyoung0.github.io/assets/115425415/bb18b400-e82a-416a-974a-1c1604143c65)

- Member.java를 생각해 보면서 이해하자.

- id : private Long id => id bigint 
  
- generated by default as identity : 값을 셋팅하지 않고 insert했을 때, DB가 알아서 이 값을 채워라.

- name : private String name => name varchar(255)

- primary key (PK) = id로 설정

**만든 member 테이블에 값을 넣어 본다.**

![image](https://github.com/taeyoung0/taeyoung0.github.io/assets/115425415/7a853b2a-e28f-47b8-90bb-d27d5b2b5f36)

- member 테이블의 name으로 'spring'이라는 값을 추가한다.

- 실행 후 member 테이블을 다시 조회해 본다.

- SELECT * FROM MEMBER
그러면 id = 1, name = spring 인 데이터가 추가되어 있다.

- INSERT 시 id값을 지정하지 않았는데도 자동으로 지정되어 있다. 이는 위에서 id값에 대해 generated by default as identity 를 설정했기 때문. (++sequence와 같은 원리)


**SQL파일을 인텔리제이상의 내 프로젝트 구조상에 만들어 두면 좋다. 테이블을 만들 때 어떻게 만들었는지 확인하기 위한 용도 (편하라고)**


![image](https://github.com/taeyoung0/taeyoung0.github.io/assets/115425415/d2adb704-4c3d-4314-8579-348ef6ca7e18)